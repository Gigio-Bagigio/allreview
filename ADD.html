<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADD REVIEW - allreview</title>
    <link rel="stylesheet" href="style2.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    
</head>

<body class="body">
    <div class="nav">
        <h2><a href="HOME.html">HOME</a></h2>
        <h2> <a href="ADD.html">ADD</a> </h2>
     </div>

<label class="lbl1">NAME</label>   
<div class="div">
     
<div class="divuno">
     
            
    
    
    <input class="text"  id="Namebox" type="text" placeholder="Product name..." required></div>
<div class="divdue"> <label class="lbl4">RATE</label> 
        <select id="Genbox" required class="option">
             <option value="1">1</option>
             <option value="2">2</option>
             <option value="3">3</option>
             <option value="4">4</option>
             <option value="5">5</option>
        </select> </div>
    
    
   
  
<div class="textareaConLbl"><label class="lbl2">REVIEW</label> <textarea class="boo" id="Rollbox" type="text" placeholder="Review..." required cols="30" rows="10"></textarea> 
    </div>   
</div> 


<button id="Insbtn" class="button"> <strong> INSERT </strong></button> 
<!------------------IMPORT + CONFIGURATION---------------------->  
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyBaon7qXPDe7v8aiucQWwbpXwh7Hhkxy04",
          authDomain: "fire9db-a7f6a.firebaseapp.com",
          projectId: "fire9db-a7f6a",
          storageBucket: "fire9db-a7f6a.appspot.com",
          messagingSenderId: "435608563392",
          appId: "1:435608563392:web:82e9117f5616fc09108725"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        import {getDatabase, ref, set, child, update, remove}
        from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js"

        const db = getDatabase();

        //-------------------References---------------------------------//
        var namebox = document.getElementById("Namebox");
        var rollbox = document.getElementById("Rollbox");
        var secbox = document.getElementById("Secbox");
        var genbox = document.getElementById("Genbox"); 

        var insBtn = document.getElementById("Insbtn");
        var selBtn = document.getElementById("Selbtn");
        var updBtn = document.getElementById("Updbtn");
        var delBtn = document.getElementById("Delbtn");
// ---------------------------------------- insert data function ----------------------------------------------//


        function insertData(){
            set(ref(db, rollbox.value),{
                NAME_OF_PRODUCT: namebox.value,
                DESCRIPTION: rollbox.value,
                STAR: genbox.value
            })
            .then(()=>{
                alert("the review will be added to the catalog in 24h / 48h, thanks")
            })
            .catch((error)=>{
                alert("unsuccessful, error"+error)
            });
        }





//-------------------------- assign events to btns -------------------------------------------//

        insBtn.addEventListener('click', insertData);




      </script>
      <script type="module">
          import formValidation from './lib.js'
          document.addEventListener('DOMContentLoaded', function() {
              formValidation('#Namebox', '')
          })

      </script>

</body>
</html>